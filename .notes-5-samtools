ghttp://samtools.sourceforge.net/
http://www.htslib.org/
https://github.com/samtools/samtools

System Requirements
===================

Samtools and HTSlib depend on the following libraries:

  Samtools:
>>    zlib       <http://zlib.net>
>>    curses or GNU ncurses (optional, for the 'tview' command)
               <http://www.gnu.org/software/ncurses/>

>> $ sudo port install ncurses

  HTSlib:
    zlib       <http://zlib.net>
    libbz2     <http://bzip.org/>
    liblzma    <http://tukaani.org/xz/>
    libcurl    <https://curl.haxx.se/>
               (optional but strongly recommended, for network access)
    libcrypto  <https://www.openssl.org/>
               (optional, for Amazon S3 support; not needed on MacOS)

See the "System Specific Details" below for guidance on how to install
these.

The bzip2 and liblzma dependencies can be removed if full CRAM support
is not needed - see HTSlib's INSTALL file for details.

The following programs are required:

    GNU make
    C compiler (e.g. gcc or clang)

In addition, building the configure script requires:

    autoheader
    autoconf

Running the configure script uses awk, along with a number of
standard UNIX tools (cat, cp, grep, mv, rm, sed, among others).  Almost
all installations will have these already.  

Running the test harness (>> make test) uses:

    bash
    perl

If you are unsure about this, be sure to use './configure' to determine
whether you have these libraries and to help diagnose which packages may
need to be installed on your build machine to provide them.

Building Configure
==================

This step is only needed if configure.ac has been changed, or if configure
does not exist (for example, when building from a git clone).  The
configure script and config.h.in can be built by running:

    autoheader
    autoconf -Wno-syntax

If you have a full GNU autotools install, you can alternatively run:

>>    autoreconf

When running these tools, you may see warnings about AC_CONFIG_SUBDIRS.
These are expected, and should be ignored.

Basic Installation
==================

To build and install Samtools, 'cd' to the samtools-1.x directory containing
the package's source and type the following commands:

>>    ./configure
>>    make
>>    make test
    make install

The './configure' command checks your build environment and allows various
optional functionality to be enabled (see Configuration below).  If you
don't want to select any optional functionality, you may wish to omit
configure and just type 'make; make install' as for previous versions
of samtools.  However if the build fails you should run './configure'
as it can diagnose the common reasons for build failures.

The 'make' command builds samtools and various miscellaneous utilities.
If compilation fails you should run './configure' as it can diagnose
problems with your build environment that cause build failures.

(The bgzip, htsfile, and tabix utilities are provided by HTSlib.  If you are
not also compiling HTSlib separately, you may wish to compile these utilities
in the associated copy of HTSlib.  Type 'make all all-htslib' to do this.)

The 'make install' command installs the samtools executable and various
scripts and executables from misc/ and a manual page to /usr/local.
The installation location can be changed by configuring with --prefix=DIR
or via 'make prefix=DIR install' (see Installation Locations below).

>> make install prefix=~/Projects/Addgene/addgene-bioinformatics/local

(If you have not also installed HTSlib separately, you may wish to install
the bgzip, htsfile, and tabix utilities from the associated copy of HTSlib.
Type 'make install install-htslib' to do this.)

Typically you will want to enable HTSlib's HTTPS/etc plugin etc.
See README for recipes for typical installation.
